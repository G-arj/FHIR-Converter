{% mergeDiff msg -%}
{
  "contained" : [ {{msg.contained | to_array | batch_render : 'Resource', 'msg'}} ],
  "instantiatesCanonical" : [{{msg.definition | to_array | batch_render : 'Shared/Reference2Canonical', 'msg'}} ],
  "encounter" : {{msg.context | to_json_string}},
  "reasonCode" : [{{msg.reasonCodeableConcept | to_json_string }}],
  "reasonReference" : [{{msg.reasonReference | to_json_string }}],
  "action" : [ {{ msg.action | to_array | batch_render: 'RequestGroup/Action', 'msg' }} ],
  "reasonCodeableConcept" : "",
  "context" : "",
  "definition" : ""
}
{% endmergeDiff -%}